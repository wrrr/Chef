#!/bin/bash
# ====================================================
# Chef Project Management Script
# ====================================================

clear
echo "====================================="
echo "1️⃣  Launch Website Preview (Local)"
echo "2️⃣  Prepare Website for Launch (Build)"
echo "3️⃣  Publish Live Website (Cloudflare)"
echo "4️⃣  Deep Clean & Reset Project"
echo "5️⃣  Sync Local Repository with GitHub"
echo "6️⃣  Sync with Builder.io"
echo "7️⃣  Launch Builder.io Editor (Local)"
echo "====================================="
read -p "Enter 1, 2, 3, 4, 5, 6, or 7: " choice

case $choice in
  1)
    echo "🚀 Launching local preview on http://localhost:3000 ..."
    npm start
    ;;

  2)
    echo "🏗️  Building website for deployment..."
    npm run build
    ;;

  3)
    echo "🌐 Publishing to Cloudflare Pages..."
    npm run deploy
    ;;

  4)
    echo "🧹 Performing deep clean..."
    rm -rf node_modules build .cache
    npm cache clean --force
    npm install
    echo "✅ Project cleaned and dependencies reinstalled."
    ;;

  5)
    echo "🔄 Syncing local repository with GitHub..."
    git add .
    git commit -m "Sync local changes"
    git pull origin main --rebase
    git push origin main
    echo "✅ GitHub sync complete!"
    ;;

  6)
    echo "🔗 Syncing with Builder.io..."
    npx @builder.io/cli pull
    echo "✅ Builder.io sync complete!"
    ;;

  7)
    echo "🎨 Launching Builder.io Editor (Local)..."
    npx "builder.io@latest" launch --serverUrl http://localhost:3000
    ;;

  *)
    echo "❌ Invalid choice. Please enter 1–7."
    ;;
esac
