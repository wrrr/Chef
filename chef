#!/bin/bash
# ====================================================
# Chef Project Management Script
# ====================================================

clear
echo "====================================="
echo "1ï¸âƒ£  Launch Website Preview (Local)"
echo "2ï¸âƒ£  Prepare Website for Launch (Build)"
echo "3ï¸âƒ£  Publish Live Website (Cloudflare)"
echo "4ï¸âƒ£  Deep Clean & Reset Project"
echo "5ï¸âƒ£  Sync Local Repository with GitHub"
echo "6ï¸âƒ£  Sync with Builder.io"
echo "7ï¸âƒ£  Launch Builder.io Editor (Local)"
echo "====================================="
read -p "Enter 1, 2, 3, 4, 5, 6, or 7: " choice

case $choice in
  1)
    echo "ğŸš€ Launching local preview on http://localhost:3000 ..."
    npm start
    ;;

  2)
    echo "ğŸ—ï¸  Building website for deployment..."
    npm run build
    ;;

  3)
    echo "ğŸŒ Publishing to Cloudflare Pages..."
    npm run deploy
    ;;

  4)
    echo "ğŸ§¹ Performing deep clean..."
    rm -rf node_modules build .cache
    npm cache clean --force
    npm install
    echo "âœ… Project cleaned and dependencies reinstalled."
    ;;

  5)
    echo "ğŸ”„ Syncing local repository with GitHub..."
    git add .
    git commit -m "Sync local changes"
    git pull origin main --rebase
    git push origin main
    echo "âœ… GitHub sync complete!"
    ;;

  6)
    echo "ğŸ”— Syncing with Builder.io..."
    npx @builder.io/cli pull
    echo "âœ… Builder.io sync complete!"
    ;;

  7)
    echo "ğŸ¨ Launching Builder.io Editor (Local)..."
    npx "builder.io@latest" launch --serverUrl http://localhost:3000
    ;;

  *)
    echo "âŒ Invalid choice. Please enter 1â€“7."
    ;;
esac
