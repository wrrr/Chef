#!/bin/bash
# ===========================
#!/bin/bash

# =====================================
# Chef Project Management Script
# =====================================

echo "====================================="
echo "1️⃣  Launch Website Preview (Local)"
echo "2️⃣  Prepare Website for Launch (Build)"
echo "3️⃣  Publish Live Website (Cloudflare)"
echo "4️⃣  Deep Clean & Reset Project"
echo "5️⃣  Sync Local Repository with GitHub"
echo "6️⃣  Sync with Builder.io"
echo "7️⃣  Launch Builder.io Editor (Local)"
echo "====================================="
read -p "Enter 1, 2, 3, 4, 5, 6, or 7: " choice

case $choice in
  1)
    echo "🚀 Launching local preview on http://localhost:3000 ..."
    npm start
    ;;

  2)
    echo "🛠 Preparing website for launch..."
    npm run build
    echo ""
    echo "✅ Build complete. You can serve it locally with:"
    echo "   npm install -g serve"
    echo "   serve -s build"
    ;;

  3)
    echo "🌐 Publishing to Cloudflare Pages..."
    npm run deploy
    ;;

  4)
    echo "🧹 Deep cleaning project..."
    rm -rf node_modules build .cache
    npm install
    echo "✅ Deep clean and reinstall complete."
    ;;

  5)
    echo "🔄 Syncing with GitHub..."
    git add .
    git commit -m "Auto-save local changes before sync" 2>/dev/null
    git pull --rebase origin main
    git push origin main
    echo "✅ GitHub sync complete."
    ;;

  6)
    echo "🔄 Syncing with Builder.io..."
    npx @builder.io/cli sync
    echo "✅ Builder.io sync complete."
    ;;

  7)
    echo "🚀 Launching Builder.io Editor (Local)..."
    npx "builder.io@latest" launch --serverUrl http://localhost:3000
    ;;

  *)
    echo "❌ Invalid option"
    ;;
esac
