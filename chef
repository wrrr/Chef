#!/bin/bash
# ===========================
#!/bin/bash

# =====================================
# Chef Project Management Script
# =====================================

echo "====================================="
echo "1ï¸âƒ£  Launch Website Preview (Local)"
echo "2ï¸âƒ£  Prepare Website for Launch (Build)"
echo "3ï¸âƒ£  Publish Live Website (Cloudflare)"
echo "4ï¸âƒ£  Deep Clean & Reset Project"
echo "5ï¸âƒ£  Sync Local Repository with GitHub"
echo "6ï¸âƒ£  Sync with Builder.io"
echo "7ï¸âƒ£  Launch Builder.io Editor (Local)"
echo "====================================="
read -p "Enter 1, 2, 3, 4, 5, 6, or 7: " choice

case $choice in
  1)
    echo "ğŸš€ Launching local preview on http://localhost:3000 ..."
    npm start
    ;;

  2)
    echo "ğŸ›  Preparing website for launch..."
    npm run build
    echo ""
    echo "âœ… Build complete. You can serve it locally with:"
    echo "   npm install -g serve"
    echo "   serve -s build"
    ;;

  3)
    echo "ğŸŒ Publishing to Cloudflare Pages..."
    npm run deploy
    ;;

  4)
    echo "ğŸ§¹ Deep cleaning project..."
    rm -rf node_modules build .cache
    npm install
    echo "âœ… Deep clean and reinstall complete."
    ;;

  5)
    echo "ğŸ”„ Syncing with GitHub..."
    git add .
    git commit -m "Auto-save local changes before sync" 2>/dev/null
    git pull --rebase origin main
    git push origin main
    echo "âœ… GitHub sync complete."
    ;;

  6)
    echo "ğŸ”„ Syncing with Builder.io..."
    npx @builder.io/cli sync
    echo "âœ… Builder.io sync complete."
    ;;

  7)
    echo "ğŸš€ Launching Builder.io Editor (Local)..."
    npx "builder.io@latest" launch --serverUrl http://localhost:3000
    ;;

  *)
    echo "âŒ Invalid option"
    ;;
esac
